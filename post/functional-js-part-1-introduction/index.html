<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>The Introduction. A Fool's Guide To Writing Functional JS (Part 1) - Mildly Boring</title><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#00aba9"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css><link rel=stylesheet type=text/css href=/assets/css/screen.css><link href="https://fonts.googleapis.com/css?family=Bree+Serif|Lato:100,100i,300,300i,400,400i,700,700i|Source+Code+Pro:300,400,500,700&display=swap" rel=stylesheet><link rel=stylesheet href=https://unpkg.com/littlefoot@3.4.1/dist/littlefoot.css></head><body class=post-template><header class=main-header><div class=main-header-content><h1 class=blog-title><a href=/><img src=/mildlyboring.svg alt="Mildly Boring" width=96><br>Mildly Boring</a></h1><h2 class=blog-description>Some mildly boring rants, mostly about programming.</h2><div class=dark-mode-switcher><input type=checkbox name=toggle-switch id=toggle-switch title="Toggle Dark Mode">
<label for=toggle-switch class=actual-switch></label></div></div><div class=nav><a class=nav- role=presentation href=/about/>About me</a></div></header><main class=content role=main><article class=post><header class=post-header><img src=/featured/intro-functional-js.jpg></img><h2 class=post-title>The Introduction. A Fool's Guide To Writing Functional JS (Part 1)</h2><section class=post-meta><time class=post-date>April 10, 2020</time></section></header><section class=post-content><p>You&rsquo;re a developer going about your day writing loops and pushing and deleting stuff from arrays and what not. And then some day you think ü§î</p><blockquote><p>maybe I should test my code&mldr;</p></blockquote><p>&ldquo;Shouldn&rsquo;t be too hard&rdquo;, you say.</p><p>And then you get started, you learn the basics of unit testing and even write some tests. But as soon as your code gets a bit more complex, it starts to seem like almost impossible to test. But, you are determined, you&rsquo;re not gonna give up that easy; you start creating and destroying objects after every test. Maybe your chosen test framework even offers hooks for those.</p><p>But Imagine a world where you could test almost every piece of functionality in your code, without jumping through those hoops.</p><p>Well, that&rsquo;s not what I&rsquo;m gonna teach you today üòÖ.</p><p>What we will try to discuss, however, are some of the basics of a paradigm called Functional Programming (or FP for short). What you can eventually get by following the principles of FP is what we previously discussed and more. Namely, easily testable code, minimal setup in testing, cool developer creds, happiness* üòÖ.</p><blockquote><p>P.S. I can&rsquo;t promise that last one, what I can promise is good DX (Developer Experience) which may/may not correlate to happiness.</p></blockquote><p><strong>Right, Lets start!</strong></p><h2 id=what-is-fp>What is FP?</h2><p>I&rsquo;m not gonna get into some complex mathematical/theoretical explanation of what FP is. I&rsquo;ll try to explain FP in very simple terms&mldr;</p><p>FP is a paradigm(a way of thinking about problems) where we solve problems in terms of functionsüòâ and state that does not change(immutable state).</p><h3 id=_foreword_><em>Foreword</em></h3><blockquote><p>A word of warning, FP (and almost all literature about FP) is filled with jargon such as &ldquo;immutable&rdquo;, &ldquo;functor&rdquo;, &ldquo;monad&rdquo;, etc. Don&rsquo;t get discouraged, once you get familiar with them, you&rsquo;ll start to see why people use them (hint: to express ideas in short).</p></blockquote><blockquote><p>Unlike most traditional FP tutorials, I won&rsquo;t be showing any code in any purely functional language like Haskell or OCaml. While those are great language, I&rsquo;m not great at them and I think JavaScript is good enough as a language to explore at least the basics of FP üòÉ</p></blockquote><h2 id=core-principles-of-fp>Core Principles (of FP)</h2><p>Almost every religion comes with some core tenants that you <strong>must</strong> follow. While FP is not a religion, it does come with some rules that must be obeyed at all times (otherwise the FP gods will be very unpleased and you will suffer as a developer). But, this being me and not some FP guru, I might miss some and am most definitely paraphrasing all of them.</p><ol><li><strong>NEVER*</strong> mutate state</li><li>Don&rsquo;t cause side effects</li><li>If you do need have side effects, isolate and limit them to a small number of functions</li><li>Every piece of code that <em>does something</em> should be a function</li><li>Oh, and did I mention? <strong>NEVER MUTATE STATE</strong></li></ol><p>Don&rsquo;t worry about the jargon for now, we will discuss those terms shortly.</p><h2 id=state-and-mutation->State (and mutation? ü§∑‚Äç‚ôÄÔ∏è)</h2><p>Lets begin by examining some objects in real life. Do you remember those digital watches (CASIO et al) from back in the day that lit up when you pressed a button on the side?</p><table><thead><tr><th style=text-align:center><img src=https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Casio_W-86_digital_watch_electroluminescent_backlight_%28ii%29.jpg/480px-Casio_W-86_digital_watch_electroluminescent_backlight_%28ii%29.jpg alt="Casio W-86 / W86 / W-86-1VQES &ldquo;Illuminator&rdquo; digital watch"></th></tr></thead><tbody><tr><td style=text-align:center><strong>Image</strong>: <em>Casio W-86 / W86 / W-86-1VQES &ldquo;Illuminator&rdquo; digital watch</em>. <a href=https://commons.wikimedia.org/wiki/File:Casio_W-86_digital_watch_electroluminescent_backlight_(ii).jpg title="via Wikimedia Commons">Multicherry</a> / <a href=https://creativecommons.org/licenses/by-sa/4.0>CC BY-SA</a></td></tr></tbody></table><p>Lets examine that mechanism. The &ldquo;backlight&rdquo; on those watches is a very simple green-ish LED soldered besides the digital display, powered by the on-board battery and sometimes a tiny little solar panel. If we think of that backlight and button mechanism as a simple program. We can observe a few things,</p><ul><li>The backlight is initially <strong>OFF</strong></li><li>Once you press the button <em>something happens</em></li><li>Now the backlight is <strong>ON</strong></li></ul><p>In this very crude explanation of a backlight, ON and OFF are states. In code, you probably represent that as a variable.</p><p>&ldquo;But what about this mutation thing&rdquo;, you ask.</p><p>Well, in imperative/OO code, you are probably used to <em>changing</em> the value of variables. This is what&rsquo;s known as a mutation (i.e. change). Functional Programming <strong>strongly discourages</strong> mutating state; Instead you create distinct, new states.</p><p>Say you have a list of two numbers (or array or whatever) and now you want to add one more. If your list structure were mutable, you might append another number two it. In immutable land, however, you create a new list containing the items from your old list and one more.</p><p>The cool thing is you don&rsquo;t even need an inherently immutable list structure, you can just use JavaScript&rsquo;s good old Array type. To make your life easier, TC39 people even threw in <strong>Array.prototype.concat</strong>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#75715e>// Mutable code
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>itemList</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]
<span style=color:#a6e22e>mutList</span>.<span style=color:#a6e22e>push</span>(<span style=color:#ae81ff>3</span>)

<span style=color:#75715e>// Immutable code
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>twoItemList</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>threeItemList</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>twoItemList</span>.<span style=color:#a6e22e>concat</span>(<span style=color:#ae81ff>3</span>)
</code></pre></div><p>Immutability might seem a little counter-intuitive at first but it is one of the things that will give you the promised testability.</p><p>Think about it, <em>itemList</em> might have 2 items at one point of your code and 3 at some other&mldr; Your test could be expecting it to have two items but it has three, now you&rsquo;re wondering where in your program life cycle it changed. Maybe you forgot to clear the junk from a previous test? Maybe you changed it on a different method&mldr; You have to sit there and figure that out.</p><p>On the other hand, <em>twoItemList</em> always has these two items and never changes, so if you are getting a test failed because your function returned 3 items instead of 2, you know what happened. You returned the wrong list ‚Äãüòá.‚Äã</p><h2 id=side-effects-and-pure-functions>Side Effects (and pure functions)</h2><blockquote><p>Relax, we are not gonna discuss pharmaceuticals.</p></blockquote><p>One of the core tenants of FP is to try and avoid side-effects.</p><p>&ldquo;But, what on earth is a side effect?&rdquo;, you ask.</p><p>Glad you asked. A side effect is anything you do that does not involve your own state. Lets get back to this in a bit. But first, functions</p><h3 id=functions>Functions</h3><p>&ldquo;But I already know everything I need to know about functions&rdquo;, you say.</p><p>Do you?</p><p>In FP a function (or rather a pure function) is a piece of code that may/may not take something as input (arguments) and returns something and does nothing more. It does not:</p><ul><li>Perform some I/O task</li><li>Change the state of anything outside its scope</li><li>Return different things for the same input</li></ul><p>So, getting back to out Side Effects discussion, a side effect is any and all of the above discussed despicable things except the last one.</p><p>Or in other words, if a function performs some I/O task instead of or in addition to returning an output, or it changes the global state somehow; it is said to have side effects and is referred to as an impure function*</p><blockquote><p>A function can also be impure if its output is non-deterministic. That is, gives different output for the exact same input.</p></blockquote><h2 id=thats-all-for-today>That&rsquo;s all for today</h2><p>I feel like the above topics are a good enough indication of how things work in FP. We&rsquo;ll get into more details about how to do certain things in the next article.</p><p><strong>Till then, Peace ‚úåÔ∏è</strong></p><p><img src=https://media.giphy.com/media/NG6dWJC9wFX2/giphy.gif alt=Deuces></p></section><footer class=post-footer></footer></article></main><section class=comments role=feed><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"mildly-boring"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section><footer class=site-footer><section class=social-icons><a href=https://linkedin.com/in/fa7ad class=linkedin><ion-icon name=logo-linkedin></ion-icon>fa7ad</a>
&#183;
<a href=https://github.com/fa7ad class=github><ion-icon name=logo-github></ion-icon>fa7ad</a>
&#183;
<a href=https://twitter.com/dev_fahad class=twitter><ion-icon name=logo-twitter></ion-icon>dev_fahad</a>
&#183;
<a class="subscribe-button rss" href=/index.xml><ion-icon name=logo-rss></ion-icon>Subscribe</a></section><section class=copyright>&copy; 2020 Fahad Hossain</section><section class=poweredby>Slightly modified <a href=https://github.com/nirocfz/arabica>Arabica</a> theme by Sean Lunsford. Published with
<a href=https://gohugo.io>Hugo</a>.</section></footer><script src=https://unpkg.com/littlefoot@3.4.1/dist/littlefoot.js></script><script type=application/javascript>littlefoot.littlefoot()</script><script type=module src=https://unpkg.com/ionicons@5.2.3/dist/ionicons/ionicons.esm.js></script><script nomodule src=https://unpkg.com/ionicons@5.2.3/dist/ionicons/ionicons.js></script><script src=https://unpkg.com/darkmode-js@1.5.7/lib/darkmode-js.min.js></script><script src=/assets/js/app.js type=text/javascript></script></body></html>